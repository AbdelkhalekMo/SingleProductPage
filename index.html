<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Premium T-Shirt Collection</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm">
        <div class="container">
            <a class="navbar-brand fw-bold" href="#">StyleShop</a>
            <div class="d-flex align-items-center">
                <button class="btn btn-outline-primary position-relative me-3" onclick="toggleCart()">
                    <i class="fas fa-shopping-cart"></i>
                    Cart
                    <span id="cart-count" style="display: none;">0</span>
                </button>
                <a href="#" class="btn btn-outline-success me-3" id="whatsappNavButton" title="Chat on WhatsApp">
                    <i class="fab fa-whatsapp me-1"></i> WhatsApp
                </a>
                <a href="admin.html" class="btn btn-outline-dark" title="Admin Dashboard">
                    <i class="fas fa-cog me-1"></i> Admin
                </a>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero-section text-center">
        <canvas id="rainCanvas"></canvas>
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-md-10 col-lg-8">
                    <h1 class="display-3 fw-bolder mb-4">Elevate Your Style with Our Premium T-Shirt Collection</h1>
                    <p class="lead fs-4 mb-5 opacity-75">Experience unparalleled comfort and sophisticated design. Crafted for the modern individual.</p>
                </div>
            </div>
            <div class="sale-badge-container text-center mt-4">
                 <div class="sale-badge d-inline-block">
                    <i class="fas fa-tags me-2"></i> Limited Time: 30% OFF!
                </div>
            </div>
        </div>
    </section>

    <!-- Product Section -->
    <section class="product-section">
        <div class="container">
            <div class="row align-items-center">
                <!-- Product Image -->
                <div class="col-lg-6 mb-4">
                    <div class="position-relative product-image-container" style="height: 500px; display: flex; align-items: center; justify-content: center; background-color: #ffffff; border-radius: 20px; overflow: hidden;">
                        <img src="assets/red.png" 
                             alt="Premium T-Shirt - Red" class="product-image" id="productImage">
                    </div>
                    <div class="thumbnail-images mt-3">
                        <img src="assets/red.png" alt="T-Shirt Red" class="img-thumbnail active-thumbnail" onclick="updateProductView('Red', this)">
                        <img src="assets/white.png" alt="T-Shirt White" class="img-thumbnail" onclick="updateProductView('White', this)">
                        <img src="assets/black.jpeg" alt="T-Shirt Black" class="img-thumbnail" onclick="updateProductView('Black', this)"> 
                        <img src="assets/gray.png" alt="T-Shirt Gray" class="img-thumbnail" onclick="updateProductView('Gray', this)">
                        <img src="assets/green.png" alt="T-Shirt Green" class="img-thumbnail" onclick="updateProductView('Green', this)">
                        <img src="assets/blue.png" alt="T-Shirt Blue" class="img-thumbnail" onclick="updateProductView('Blue', this)">
                    </div>
                </div>

                <!-- Product Details -->
                <div class="col-lg-6">
                    <div class="product-details">
                        <h2 class="h1 mb-3">Premium Cotton T-Shirt</h2>
                        <div class="price-section">
                            <span class="h2 text-danger fw-bold">$19.99</span>
                            <span class="h5 text-muted text-decoration-line-through ms-3">$28.99</span>
                            <div class="mt-2">
                                <small class="text-success fw-bold">✨ You save $9.00!</small>
                            </div>
                        </div>
                        
                        <p class="lead mb-4">Made from 100% premium cotton, our t-shirts offer unmatched comfort and durability. Perfect for casual wear or as a wardrobe staple.</p>

                        <!-- Color Selection -->
                        <div class="mb-4">
                            <h5><i class="fas fa-palette me-2"></i>Choose Color:</h5>
                            <div id="colorOptionsContainer" class="d-flex flex-wrap justify-content-start gap-2">
                                <!-- Color options will be dynamically inserted here by scripts.js -->
                                <!-- Each option will be a wrapper div containing the swatch and stock text -->
                            </div>
                            <p class="mt-3 mb-0 fw-bold text-primary">Selected Color: <span id="selectedColor" class="text-dark">None</span></p>
                            <p id="selectedColorStockStatus" class="mt-1 mb-0"></p> <!-- For stock status of selected color -->
                        </div>

                        <!-- Size Selection -->
                        <div class="mb-4">
                            <h5><i class="fas fa-ruler me-2"></i>Choose Size:</h5>
                            <div class="d-flex flex-wrap justify-content-start">
                                <div class="size-option" data-size="S" onclick="selectSize('S')">S</div>
                                <div class="size-option" data-size="M" onclick="selectSize('M')">M</div>
                                <div class="size-option" data-size="L" onclick="selectSize('L')">L</div>
                                <div class="size-option" data-size="XL" onclick="selectSize('XL')">XL</div>
                                <div class="size-option" data-size="XXL" onclick="selectSize('XXL')">XXL</div>
                            </div>
                            <p class="mt-3 mb-0 fw-bold text-primary">Selected Size: <span id="selectedSize" class="text-dark">None</span></p>
                        </div>

                        <!-- Quantity -->
                        <div class="mb-4">
                            <h5><i class="fas fa-shopping-basket me-2"></i>Quantity:</h5>
                            <div class="quantity-control">
                                <button type="button" onclick="changeQuantity(-1)">-</button>
                                <span class="mx-4 h4 mb-0 fw-bold" id="quantity">1</span>
                                <button type="button" onclick="changeQuantity(1)">+</button>
                            </div>
                        </div>

                        <!-- Add to Cart Button -->
                        <button class="btn btn-primary btn-lg w-100 mb-3" onclick="addToCart()">
                            <i class="fas fa-shopping-cart me-2"></i>Add to Cart
                        </button>
                        
                        <div class="text-center mt-3">
                            <small class="text-muted">
                                <i class="fas fa-truck me-1"></i>Free shipping on orders over $50
                                <span class="mx-2">•</span>
                                <i class="fas fa-undo me-1"></i>30-day return policy
                            </small>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Cart Section -->
    <div id="cartSection" class="container mt-5">
        <div class="card shadow-lg">
            <div class="card-header">
                <h4 class="mb-0"><i class="fas fa-shopping-cart me-2"></i>Your Enhanced Cart</h4>
            </div>
            <div class="card-body p-4">
                <div id="cartItems" class="mb-4">
                    <!-- Cart items will be dynamically inserted here -->
                </div>
                <div class="d-flex justify-content-between align-items-center border-top pt-3">
                    <h5 class="mb-0">Total:</h5>
                    <h5 class="mb-0 cart-total" id="cartTotal">$0.00</h5>
                </div>
                <div class="text-center mt-4">
                    <button class="btn btn-checkout btn-lg w-100" onclick="proceedToOrder()">
                        Proceed to Order <i class="fas fa-arrow-right ms-2"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Order Section -->
    <section class="py-5 bg-light" id="orderSection" style="display: none;">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-lg-8">
                    <div class="card shadow">
                        <div class="card-header bg-primary text-white">
                            <h4 class="mb-0"><i class="fas fa-clipboard-list me-2"></i>Complete Your Order</h4>
                        </div>
                        <div class="card-body">
                            <form id="orderForm">
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label for="customerName" class="form-label">Full Name *</label>
                                        <input type="text" class="form-control" id="customerName" required>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label for="customerPhone" class="form-label">Phone Number *</label>
                                        <input type="tel" class="form-control" id="customerPhone" required>
                                    </div>
                                </div>

                                <!-- Location Section -->
                                <div class="location-section">
                                    <h5><i class="fas fa-map-marker-alt me-2"></i>Delivery Location</h5>
                                    <div class="form-check mb-3">
                                        <input class="form-check-input" type="checkbox" id="useCurrentLocation">
                                        <label class="form-check-label" for="useCurrentLocation">
                                            Use my current location
                                        </label>
                                    </div>
                                    <div class="mb-3">
                                        <label for="deliveryAddress" class="form-label">Delivery Address *</label>
                                        <textarea class="form-control" id="deliveryAddress" rows="3" required></textarea>
                                    </div>
                                </div>

                                <!-- Payment Method -->
                                <div class="mb-4">
                                    <h5><i class="fas fa-credit-card me-2"></i>Payment Method *</h5>
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" name="paymentMethod" id="payInHand" value="Pay in Hand" required checked>
                                        <label class="form-check-label" for="payInHand">
                                            Pay in Hand (Cash on Delivery)
                                        </label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" name="paymentMethod" id="instapay" value="Instapay" required>
                                        <label class="form-check-label" for="instapay">
                                            Instapay Transfer
                                        </label>
                                    </div>
                                </div>

                                <div class="text-center">
                                    <button type="submit" class="btn whatsapp-btn btn-lg">
                                        <i class="fab fa-whatsapp me-2"></i>Order via WhatsApp
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
    <script src="scripts.js"></script>

    <!-- Floating Support Button -->
    <a href="chat.html" class="floating-support-btn" title="Contact Support">
        <i class="fas fa-headset"></i>
    </a>

    <!-- Toast Notification Container -->
    <div id="toast-container"></div>

    <!-- Custom Name Prompt Modal -->
    <div id="namePromptModal" class="modal-backdrop" style="display: none;">
        <div class="modal-content">
            <h4>Enter Your Name</h4>
            <p>Please enter your name to start the chat session.</p>
            <input type="text" id="userNameInput" placeholder="Your Name...">
            <div class="modal-actions">
                <button id="submitNameBtn" class="btn btn-primary">Start Chat</button>
                <button id="cancelNameBtn" class="btn btn-secondary">Cancel</button>
            </div>
        </div>
    </div>
</body>
</html>